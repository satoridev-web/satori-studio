# SATORI SOP — Automated Development Directives  
Version: 1.0  
Applies To: Codex, Copilot, and all AI-assisted PR generation  
Location: /docs/  
Status: Active  
Maintainer: Andy Garard  

---

# 1. Purpose
This SOP defines the mandatory behavioural rules Codex must follow when generating or modifying code for any SATORI Studio product.

Crosslinked Workflow Documents:
- **WORKFLOW-SATORI-AUTOMATED-DEVELOPMENT-v1.1.md**
- **SATORI-STUDIO-CODEX-DEVELOPMENT-GUIDE.md**
- **SATORI-STUDIO-STANDARDS-v1.0.md**

Codex MUST treat these documents as authoritative.

---

# 2. Codex Mandatory Default Behaviour

Codex MUST:
- Follow the SATORI Automated Development Workflow.
- Follow all conventions in the Codex Development Guide.
- Follow naming conventions, directory patterns, and namespace rules defined in SATORI Standards.
- Keep PRs small, safe, and scoped.
- Ensure architecture follows SATORI Core patterns (/src/Core).
- Use the service container for cross-cutting systems.
- Update documentation when architecture or public APIs are introduced.
- Respond to every valid GitHub Copilot review comment.
- Preserve backward compatibility unless explicitly instructed otherwise.

Codex MUST NOT:
- Introduce behavioural changes without explicit instruction.
- Create new systems outside `/src/` unless told otherwise.
- Modify FLBuilder internals without explicit approval.
- Produce multi-concern or mega-PRs.

### CODEX Plan Submission Format (Mandatory)

All CODEX plans must be supplied as a single, self-contained Markdown document.

Each plan must:
- Begin with a clear PR title
- Contain all instructions required for execution
- Use plain Markdown only
- Be copy-pasteable into CODEX in one operation
- Contain no conversational text inside the plan
- Include a clear terminator (e.g. `END OF PLAN`)

CODEX plans must not:
- Be split across multiple messages
- Rely on conversational context
- Require manual editing before execution

Any plan not supplied in this format is considered invalid and must be corrected before execution.

### Pre-PR Binary Safety Check (Mandatory)

Before opening a CODEX-generated Pull Request, the following must be verified:

- No binary files are included in the PR.
- The PR must not modify or introduce files with the following extensions:
  - `.png`
  - `.jpg`
  - `.jpeg`
  - `.webp`
  - `.ico`
  - `.gif`
  - `.pdf`
  - `.zip`
  - `.woff`
  - `.woff2`
  - `.ttf`
  - `.otf`
- All modified files must be text-based and reviewable in GitHub diff view.

Allowed file types explicitly include (but are not limited to):
- `.md`
- `.txt`
- `.svg`
- `.json`
- `.yml` / `.yaml`
- `.php`
- `.js`
- `.css`
- `.scss`
- `.html`

If any binary file formats are required, the PR must be halted and handled via a non-CODEX workflow in accordance with SATORI SOPs.

---

# 3. PR Requirements for Codex

Every PR generated by Codex MUST include:
- A clear summary.
- Architectural impact notes.
- Manual verification steps.
- Documentation changes (if required).
- SATORI Workflow compliance.

---

# 4. Override Rules
Codex may NOT override SATORI standards unless the human explicitly instructs it to.

Examples of overrides:
- “You may break backward compatibility in this PR”
- “You may modify FLBuilder loader”
- “Rename namespaces across entire repo”
- “Refactor the entire bootstrap sequence”

Without such explicit instructions:
**Codex MUST adhere strictly to SATORI SOPs.**

---

# 5. Future Expansion
This SOP will grow to include:
- Rules for licensing layer
- Rules for asset manager
- Rules for module system
- Rules for UI layer
- CI-driven automated checks

---

**END OF DOCUMENT — Version 1.0**
